{% extends "base.html" %}
{% block content %}
<div class="mx-auto max-w-6xl px-4 py-10">
  <div class="flex justify-between items-center">
    <h1 class="font-serif text-3xl">Makaleler</h1>
    <a class="btn bg-neutral-900 text-white" href="/admin/posts/new">Yeni Makale</a>
  </div>
  <table class="mt-6 w-full bg-white border rounded-xl text-sm">
    <thead><tr class="text-left border-b"><th class="p-3">Başlık</th><th>Durum</th><th>Tarih</th><th></th></tr></thead>
    <tbody>
      {% for item in items %}
      <tr class="border-b">
        <td class="p-3">{{ item.meta.title }}</td><td>{{ item.meta.status }}</td><td>{{ item.meta.published_at.strftime('%Y-%m-%d %H:%M') }}</td>
        <td class="p-3 text-right">
          <a class="underline" href="/admin/posts/{{ item.meta.slug }}/edit">Düzenle</a>
          <form method="post" action="/admin/posts/{{ item.meta.slug }}/delete" class="inline">
            <input type="hidden" name="csrf_token" value="{{ csrf_token }}">
            <button class="ml-3 text-red-700" type="submit">Sil</button>
          </form>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
