{% extends "base.html" %}
{% block content %}
<div class="mx-auto max-w-4xl px-4 py-10">
  <h1 class="font-serif text-3xl">{{ "Hizmet Düzenle" if item else "Yeni Hizmet" }}</h1>
  <form class="mt-6 space-y-4" method="post" action="/admin/services/save" enctype="multipart/form-data">
    <input type="hidden" name="csrf_token" value="{{ csrf_token }}">
    <input type="hidden" name="slug_original" value="{{ item.meta.slug if item else '' }}">
    <div><label>Başlık</label><input name="title" value="{{ item.meta.title if item else '' }}" required></div>
    <div><label>Slug</label><input name="slug" value="{{ item.meta.slug if item else '' }}" required></div>
    <div><label>Özet</label><textarea name="summary">{{ item.meta.summary if item else '' }}</textarea></div>
    <div><label>Sıra</label><input type="number" name="order" value="{{ item.meta.order if item else 0 }}"></div>
    <div><label><input type="checkbox" name="is_active" {% if item and item.meta.is_active %}checked{% elif not item %}checked{% endif %}> Aktif</label></div>
    <div><label>SEO Başlık</label><input name="seo_title" value="{{ item.meta.seo_title if item else '' }}"></div>
    <div><label>SEO Açıklama</label><textarea name="seo_description">{{ item.meta.seo_description if item else '' }}</textarea></div>
    <div><label>İçerik (Markdown)</label><textarea rows="14" name="content_markdown">{{ item.content_markdown if item else '' }}</textarea></div>
    <div>
      <label>Sayfa Arka Plan Görseli</label>
      <input type="file" name="background_image_file" accept="image/png,image/jpeg,image/webp">
      {% if item and item.meta.background_image %}<img src="{{ item.meta.background_image }}" alt="Arka plan" class="mt-2 h-24 rounded-lg border border-neutral-200 object-cover">{% endif %}
    </div>
    <div class="flex gap-3 items-center">
      <button class="btn bg-neutral-900 text-white" type="submit">Kaydet</button>
      <a href="/admin/services" class="btn border border-neutral-300 text-neutral-700">İptal</a>
    </div>
  </form>
</div>
{% endblock %}
